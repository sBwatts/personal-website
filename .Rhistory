quarto preview
source("cv/cv_render.R")
source("render_cv.R")
source("cv_render.R")
quarto preview
# Fetch publications from OpenAlex
url <- paste0("https://api.openalex.org/a5024471517",
author_id,
"&per-page=200&sort=publication_date:desc")
library(httr)
library(jsonlite)
library(dplyr)
library(purrr)
# Your OpenAlex Author ID
author_id <- "a5024471517"  # Replace with your ID
# Fetch publications from OpenAlex
url <- paste0("https://api.openalex.org/a5024471517",
author_id,
"&per-page=200&sort=publication_date:desc")
response <- GET(url)
data <- fromJSON(content(response, "text"))
# Extract relevant info
pubs <- data$results %>%
mutate(
title = display_name,
year = publication_year,
journal = primary_location$source$display_name,
doi = doi,
url = ifelse(!is.null(doi), paste0("https://doi.org/", doi), NULL),
authors = map_chr(authorships, ~paste(.$author$display_name, collapse=", "))
) %>%
select(title, authors, year, journal, url)
View(data)
library(httr)
library(jsonlite)
library(dplyr)
library(purrr)
# Your OpenAlex Author ID
author_id <- "a5024471517"  # Replace with your ID
# Fetch publications from OpenAlex
url <- paste0("https://api.openalex.org/",
author_id,
"&per-page=200&sort=publication_date:desc")
response <- GET(url)
data <- fromJSON(content(response, "text"))
# Extract relevant info
pubs <- data$results %>%
mutate(
title = display_name,
year = publication_year,
journal = primary_location$source$display_name,
doi = doi,
url = ifelse(!is.null(doi), paste0("https://doi.org/", doi), NULL),
authors = map_chr(authorships, ~paste(.$author$display_name, collapse=", "))
) %>%
select(title, authors, year, journal, url)
# Your OpenAlex Author ID
author_id <- "a5024471517"  # Replace with your ID
# Fetch publications from OpenAlex
url <- paste0("https://api.openalex.org/works?filter=author.id:",
author_id,
"&per-page=200&sort=publication_date:desc")
response <- GET(url)
data <- fromJSON(content(response, "text"))
# Extract relevant info
pubs <- data$results %>%
mutate(
title = display_name,
year = publication_year,
journal = primary_location$source$display_name,
doi = doi,
url = ifelse(!is.null(doi), paste0("https://doi.org/", doi), NULL),
authors = map_chr(authorships, ~paste(.$author$display_name, collapse=", "))
) %>%
select(title, authors, year, journal, url)
# Save as CSV or RDS
write.csv(pubs, "publications.csv", row.names = FALSE)
View(pubs)
View(pubs)
# Save as CSV or RDS
write.csv(pubs, "research/publications.csv", row.names = FALSE)
# Write YAML
write_yaml(pubs_list, "pubs.yml")
library(httr)
library(jsonlite)
library(dplyr)
library(purrr)
library(yaml)
author_id <- "A1234567890"  # Replace with your ID
url <- paste0("https://api.openalex.org/works?filter=author.id:",
author_id,
"&per-page=200&sort=publication_date:desc")
response <- GET(url)
data <- fromJSON(content(response, "text"))
pubs <- data$results %>%
mutate(
title = display_name,
year = publication_year,
journal = primary_location$source$display_name,
doi = doi,
url = ifelse(!is.null(doi), paste0("https://doi.org/", doi), NA_character_),
authors = map_chr(authorships, ~paste(.$author$display_name, collapse=", "))
) %>%
select(title, authors, year, journal, url) %>%
arrange(desc(year))
library(httr)
library(httr)
library(jsonlite)
library(dplyr)
library(purrr)
# Your OpenAlex Author ID
author_id <- "a5024471517"  # Replace with your ID
fetch_openalex_publications <- function(author_id, email = NULL) {
# OpenAlex appreciates a polite email in requests
base_url <- "https://api.openalex.org/works"
query_params <- list(
filter = paste0("author.id:", author_id),
per_page = 200,
sort = "publication_date:desc"
)
if (!is.null(email)) {
query_params$mailto <- email
}
response <- GET(base_url, query = query_params)
if (status_code(response) != 200) {
stop("Failed to fetch data from OpenAlex: ", status_code(response))
}
data <- fromJSON(content(response, "text", encoding = "UTF-8"))
# Extract comprehensive publication info
pubs <- data$results %>%
mutate(
# Basic info
title = display_name,
year = publication_year,
publication_date = publication_date,
type = type,
# Venue info
journal = primary_location$source$display_name %||% NA_character_,
publisher = primary_location$source$host_organization_name %||% NA_character_,
is_oa = primary_location$is_oa %||% FALSE,
# Identifiers
doi = doi,
openalex_id = id,
pmid = if("pmid" %in% names(ids)) ids$pmid else NA_character_,
# URLs
doi_url = ifelse(!is.null(doi), paste0("https://doi.org/", gsub("https://doi.org/", "", doi)), NA_character_),
pdf_url = if(!is.null(primary_location$pdf_url)) primary_location$pdf_url else
if(!is.null(best_oa_location$pdf_url)) best_oa_location$pdf_url else NA_character_,
# Authors
authors = map_chr(authorships, function(a) {
paste(a$author$display_name, collapse = ", ")
}),
author_count = map_int(authorships, nrow),
# Metrics
cited_by_count = cited_by_count %||% 0,
# Abstract
abstract = if("abstract_inverted_index" %in% names(.)) {
map_chr(abstract_inverted_index, function(inv_idx) {
if(is.null(inv_idx) || length(inv_idx) == 0) return(NA_character_)
# Reconstruct abstract from inverted index
words <- names(inv_idx)
positions <- unlist(inv_idx)
if(length(words) == 0) return(NA_character_)
sorted <- words[order(positions)]
paste(sorted, collapse = " ")
})
} else NA_character_
) %>%
select(title, authors, author_count, year, publication_date,
journal, publisher, type, is_oa,
doi, doi_url, pdf_url, openalex_id, pmid,
cited_by_count, abstract) %>%
arrange(desc(year), desc(publication_date))
return(pubs)
}
# Helper function for NULL coalescing
`%||%` <- function(a, b) if (is.null(a)) b else a
# Install reticulate if needed
install.packages("reticulate")
library(reticulate)
# Install Python packages
py_install(c("requests", "pyyaml"))
# Run your Python script
source_python("open-alex.py")
library(reticulate)
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
syncer$sync_author_works(
orcid = "0000-0002-5108-9055",
limit = 20L  # Note: use 20L (integer) not just 20
)
library(reticulate)
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
syncer$sync_author_works(
orcid = "0000-0002-5108-9055",
limit = 30L  # Note: use 20L (integer) not just 20
)
library(reticulate)
# Source the Python file
source_python("open-alex.py")
library(reticulate)
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
syncer$sync_author_works(
orcid = "0000-0002-5108-9055",
limit = 30L  # Note: use 20L (integer) not just 20
)
library(reticulate)
# Source the Python file
source_python("open-alex.py")
reticulate::repl_python()
library(reticulate)
# Source the Python file
source_python("open-alex.py")
View(pubs)
unlink("research/articles", recursive = TRUE)
# Source the Python file
source_python("open-alex.py")
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
syncer$sync_author_works(
orcid = "0000-0002-5108-9055",
limit = 30L  # Note: use 20L (integer) not just 20
)
reticulate::repl_python()
unlink("research/articles", recursive = TRUE)
# Source the Python file
source_python("open-alex.py")
reticulate::repl_python()
unlink("research/articles", recursive = TRUE)
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
syncer$sync_author_works(
orcid = "0000-0002-5108-9055",
limit = 30L  # Note: use 20L (integer) not just 20
)
unlink("research/articles", recursive = TRUE)
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
syncer$sync_author_works(
orcid = "0000-0002-5108-9055",
limit = 30L  # Note: use 20L (integer) not just 20
)
# Source the Python file
source_python("open-alex.py")
unlink("research/articles", recursive = TRUE)
reticulate::repl_python()
source_python("open-alex.py")
library(reticulate)
# Source the Python file
source_python("open-alex.py")
library(reticulate)
# Clear any cached Python modules
py_run_string("import sys")
py_run_string("if 'open-alex' in sys.modules: del sys.modules['open-alex']")
py_run_string("if '__main__' in sys.modules: del sys.modules['__main__']")
# Source the Python file
source_python("open-alex.py")
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
# Clear any cached Python modules
py_run_string("import sys")
py_run_string("if 'open-alex' in sys.modules: del sys.modules['open-alex']")
py_run_string("if '__main__' in sys.modules: del sys.modules['__main__']")
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
syncer$sync_author_works(
orcid = "0000-0002-5108-9055",
limit = 30L  # Note: use 20L (integer) not just 20
)
syncer <- FilteredOpenAlexSync("research/articles")
library(reticulate)
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
syncer$sync_author_works(
orcid = "0000-0002-5108-9055",
limit = 30L  # Note: use 20L (integer) not just 20
)
library(reticulate)
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
syncer$sync_author_works(
orcid = "0000-0002-5108-9055",
limit = 30L  # Note: use 20L (integer) not just 20
)
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
syncer$sync_author_works(
orcid = "0000-0002-5108-9055",
limit = 30L  # Note: use 20L (integer) not just 20
)
library(reticulate)
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
syncer$sync_author_works(
orcid = "0000-0002-5108-9055",
limit = 30L  # Note: use 20L (integer) not just 20
)
library(reticulate)
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
syncer$sync_author_works(
orcid = "0000-0002-5108-9055",
limit = 30L  # Note: use 20L (integer) not just 20
)
library(reticulate)
# Source the Python file
source_python("open-alex.py")
# The classes are now available directly
syncer <- FilteredOpenAlexSync("research/articles")
syncer$sync_author_works(
orcid = "0000-0002-5108-9055",
limit = 30L  # Note: use 20L (integer) not just 20
)
